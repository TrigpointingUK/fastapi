# Staging Environment Configuration
# Copy this to terraform.tfvars and customize as needed

# Basic Configuration
project_name = "trigpointing"
aws_region   = "eu-west-1"

# Container Configuration
container_image = "534526983272.dkr.ecr.eu-west-1.amazonaws.com/trigpointing-staging:latest"
cpu            = 512
memory         = 1024
desired_count  = 2

# Auto Scaling Configuration
min_capacity      = 1
max_capacity      = 10
cpu_target_value  = 70
memory_target_value = 80

# Auth0 Configuration
auth0_domain       = "trigpointing.auth0.com"
auth0_connection   = "Username-Password-Authentication"
auth0_api_audience = "https://api.trigpointing.me/api/v1/"

# Parameter Store Configuration - Clean Object-Based Approach
parameter_store_config = {
  enabled = true
  parameters = {
    xray = {
      enabled        = true
      service_name   = "trigpointing-api-staging"
      sampling_rate  = 0.2
      daemon_address = null
    }
    app = {
      log_level    = "DEBUG"
      cors_origins = "https://staging.trigpointing.uk,https://api-staging.trigpointing.uk"
    }
    database = {
      pool_size    = 5
      pool_recycle = 300
    }
  }
}
